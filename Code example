import java.util.Scanner;
public class Book {
    private String title;
    private String author;
    private String genre;
    private boolean available;

    // Constructor
    public Book(String title, String author, String genre) {
        this.title = title;
        this.author = author;
        this.genre = genre;
        this.available = true; // default available
    }

    // Encapsulation: Getters
    public String getTitle() { return title; }
    public String getAuthor() { return author; }
    public String getGenre() { return genre; }
    public boolean isAvailable() { return available; }

    // Methods for checkout/return
    public void checkOut() {
        if (available) {
            available = false;
            System.out.println(title + " successfully checked out!");
        } else {
            System.out.println(title + " is already checked out.");
        }
    }

    public void returnBook() {
        available = true;
        System.out.println(title + " has been returned.");
    }
}


public class LibrarySystem {
    public static void main(String[] args) {
        Scanner input = new Scanner(System.in);

        // Array of books (database simulation)
        Book[] library = {
                new Book("1984", "George Orwell", "Dystopian"),
                new Book("The Hobbit", "J.R.R. Tolkien", "Fantasy"),
                new Book("Inferno", "Dan Brown", "Thriller"),
                new Book("Hamlet", "William Shakespeare", "Drama")
        };

        int choice;
        do {
            System.out.println("\n===== Library Menu =====");
            System.out.println("1. Show all books");
            System.out.println("2. Search genre by author");
            System.out.println("3. Check book availability");
            System.out.println("4. Check out a book");
            System.out.println("5. Return a book");
            System.out.println("0. Exit");
            System.out.print("Choose an option: ");

            choice = input.nextInt();
            input.nextLine(); // rinse newline

            switch (choice) {
                case 1:
                    for (Book b : library) {
                        System.out.println(b.getTitle() + " - " + b.getAuthor() +
                                " (" + b.getGenre() + ")");
                    }
                    break;

                case 2:
                    System.out.print("Enter author name: ");
                    String name = input.nextLine();
                    boolean foundAuthor = false;

                    for (Book b : library) {
                        if (b.getAuthor().equalsIgnoreCase(name)) {
                            System.out.println(b.getTitle() + " â†’ " + b.getGenre());
                            foundAuthor = true;
                        }
                    }
                    if (!foundAuthor) {
                        System.out.println("Author not found.");
                    }
                    break;

                case 3:
                    System.out.print("Enter book title: ");
                    String title = input.nextLine();
                    boolean foundBook = false;

                    for (Book b : library) {
                        if (b.getTitle().equalsIgnoreCase(title)) {
                            System.out.println(b.isAvailable() ?
                                "Available!" : "Checked out.");
                            foundBook = true;
                        }
                    }
                    if (!foundBook) System.out.println("Book not found.");
                    break;

                case 4:
                    System.out.print("Enter title to check out: ");
                    title = input.nextLine();
                    for (Book b : library) {
                        if (b.getTitle().equalsIgnoreCase(title)) {
                            b.checkOut();
                            foundBook = true;
                        }
                    }
                    break;

                case 5:
                    System.out.print("Enter title to return: ");
                    title = input.nextLine();
                    for (Book b : library) {
                        if (b.getTitle().equalsIgnoreCase(title)) {
                            b.returnBook();
                            foundBook = true;
                        }
                    }
                    break;

                case 0:
                    System.out.println("Goodbye!");
                    break;

                default:
                    System.out.println("Invalid option.");
            }

        } while (choice != 0);

        input.close();
    }
}
